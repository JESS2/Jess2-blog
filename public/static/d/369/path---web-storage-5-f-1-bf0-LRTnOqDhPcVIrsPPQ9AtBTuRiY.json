{"data":{"site":{"siteMetadata":{"title":"Jess2.xyz","author":"Jess2","siteUrl":"http://jess2.xyz","comment":{"disqusShortName":"https-jess2-netlify-com","utterances":""},"sponsor":{"buyMeACoffeeId":"Jess2"}}},"markdownRemark":{"id":"4a7263fa-5230-5da2-88da-680dd6038f38","excerpt":"Storage 웹 개발을 하다보면 스토리지가 필요할 때가 있다. 스토리지에 대해 알아보자. HTML5에서 추가된 Storage는   객체의 하위 객체로, 영구 저장인  와 브라우저 실행 중에만 유효한  라는 두 가지 저장 방식을 제공한다. Storage 종류 구분 유효기간 localStorage 없음(영구적) sessionStorage 브라우저 탭이 열려 있는 동안만 유효하며 종료 시 삭제됨 로컬 스토리지와 세션 스토리지는 유효 기간 외에는 사용하는 데 큰 차이가 없다. key와 value…","html":"<p><span\n    class=\"gatsby-resp-image-wrapper\"\n    style=\"position: relative; display: block; margin-left: auto; margin-right: auto;  max-width: 741px;\"\n  >\n    <span\n      class=\"gatsby-resp-image-background-image\"\n      style=\"padding-bottom: 47.7726574500768%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAKCAYAAAC0VX7mAAAACXBIWXMAABcSAAAXEgFnn9JSAAAAlUlEQVQoz72POw7DIBBEfWhk/j1CuOMEvgENNfKxXHjCoiRCSkgkx0oxjHaBt7OTMWbXWu/kV2iqB64UAY+a8CDv9ehZa9/2R2oJ74+eU2rdXCkFxhg455jnudX9/SjhC5AkpYRzDiklxBixritCCBBCfF15CFyWBdu2IeeMUgq89+eA/coEIKcBP608+vQJ9l/gWd0Am+Ps815zkvAAAAAASUVORK5CYII='); background-size: cover; display: block;\"\n    ></span>\n    <img\n        class=\"gatsby-resp-image-image\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;box-shadow:inset 0px 0px 0px 400px white;\"\n        alt=\"web\"\n        title=\"\"\n        src=\"/static/6f7b1c2f5ba43ec4bad057c877afac3c/111a3/web.png\"\n        srcset=\"/static/6f7b1c2f5ba43ec4bad057c877afac3c/94807/web.png 185w,\n/static/6f7b1c2f5ba43ec4bad057c877afac3c/db9f8/web.png 371w,\n/static/6f7b1c2f5ba43ec4bad057c877afac3c/111a3/web.png 741w,\n/static/6f7b1c2f5ba43ec4bad057c877afac3c/248f3/web.png 1112w,\n/static/6f7b1c2f5ba43ec4bad057c877afac3c/ffc6e/web.png 1302w\"\n        sizes=\"(max-width: 741px) 100vw, 741px\"\n      />\n  </span></p>\n<h3 id=\"storage\"><a href=\"#storage\" aria-label=\"storage permalink\" class=\"anchor\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Storage</h3>\n<p>웹 개발을 하다보면 스토리지가 필요할 때가 있다. 스토리지에 대해 알아보자.</p>\n<p>HTML5에서 추가된 Storage는 <code class=\"language-text\">Window</code> 객체의 하위 객체로, 영구 저장인 <code class=\"language-text\">localStorage</code>와 브라우저 실행 중에만 유효한 <code class=\"language-text\">sessionStorage</code>라는 두 가지 저장 방식을 제공한다.</p>\n<h3 id=\"storage-종류\"><a href=\"#storage-%EC%A2%85%EB%A5%98\" aria-label=\"storage 종류 permalink\" class=\"anchor\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Storage 종류</h3>\n<table>\n<thead>\n<tr>\n<th>구분</th>\n<th>유효기간</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td>localStorage</td>\n<td>없음(영구적)</td>\n</tr>\n<tr>\n<td>sessionStorage</td>\n<td>브라우저 탭이 열려 있는 동안만 유효하며 종료 시 삭제됨</td>\n</tr>\n</tbody>\n</table>\n<ul>\n<li>로컬 스토리지와 세션 스토리지는 유효 기간 외에는 사용하는 데 큰 차이가 없다.</li>\n</ul>\n<h3 id=\"key와-value\"><a href=\"#key%EC%99%80-value\" aria-label=\"key와 value permalink\" class=\"anchor\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>key와 value</h3>\n<p>스토리지는 <code class=\"language-text\">key</code>와 <code class=\"language-text\">value</code>의 형태로 이루어진다.\n<code class=\"language-text\">key</code>는 저장된 값을 식별하고 가져오는 데 사용되고 원하는 만큼 스토리지에 키를 저장할 수 있다.\n반대로 키를 가져올 때는 조회하려는 키 값으로 요청한다.\n할당된 키에 저장되는 값은 숫자, 문자열 또는 객체(JSON)나 배열 같은 형태로 저장할 수 있다.</p>\n<h3 id=\"스토리지-methods-및-property\"><a href=\"#%EC%8A%A4%ED%86%A0%EB%A6%AC%EC%A7%80-methods-%EB%B0%8F-property\" aria-label=\"스토리지 methods 및 property permalink\" class=\"anchor\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>스토리지 methods 및 property</h3>\n<p>데이터를 저장하고 조회하기 위해 사용되는 메서드와 속성을 정리해 보고 예시를 살펴보자.</p>\n<table>\n<thead>\n<tr>\n<th>이름</th>\n<th>구분</th>\n<th>설명</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td>setItem(key, value)</td>\n<td>Methods</td>\n<td>해당 키 값으로 데이터를 저장한다.</td>\n</tr>\n<tr>\n<td>getItem(key)</td>\n<td>Methods</td>\n<td>해당 키 값의 이름을 가진 데이터를 가져온다.</td>\n</tr>\n<tr>\n<td>removeItem(key)</td>\n<td>Methods</td>\n<td>해당 키 값의 이름을 가진 데이터를 삭제한다.</td>\n</tr>\n<tr>\n<td>key(index)</td>\n<td>Methods</td>\n<td>해당 인덱스 값을 가진 키의 이름을 가져온다.</td>\n</tr>\n<tr>\n<td>clear()</td>\n<td>Methods</td>\n<td>모든 데이터를 삭제한다.</td>\n</tr>\n<tr>\n<td>length</td>\n<td>Property</td>\n<td>저장된 데이터 수를 가져온다.</td>\n</tr>\n</tbody>\n</table>\n<h3 id=\"인터넷-익스플로러에서-테스트-시-주의할-점\"><a href=\"#%EC%9D%B8%ED%84%B0%EB%84%B7-%EC%9D%B5%EC%8A%A4%ED%94%8C%EB%A1%9C%EB%9F%AC%EC%97%90%EC%84%9C-%ED%85%8C%EC%8A%A4%ED%8A%B8-%EC%8B%9C-%EC%A3%BC%EC%9D%98%ED%95%A0-%EC%A0%90\" aria-label=\"인터넷 익스플로러에서 테스트 시 주의할 점 permalink\" class=\"anchor\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>인터넷 익스플로러에서 테스트 시 주의할 점</h3>\n<p>인터넷 익스플로러의 경우 로컬 실행 환경에서 스토리지 기능이 작동하지 않는다. 반드시 서버 실행 환경에서 URL로 지정해야만 확인할 수 있으므로 주의해야 한다.</p>\n<p>데이터 저장 및 조회</p>\n<div class=\"gatsby-highlight\" data-language=\"js\"><pre class=\"language-js\"><code class=\"language-js\">localStorage<span class=\"token punctuation\">.</span><span class=\"token function\">setItem</span><span class=\"token punctuation\">(</span><span class=\"token string\">'name'</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'jess2'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span> <span class=\"token comment\">// (key, value) 저장</span>\n<span class=\"token keyword\">let</span> getValue <span class=\"token operator\">=</span> localStorage<span class=\"token punctuation\">.</span><span class=\"token function\">getItem</span><span class=\"token punctuation\">(</span><span class=\"token string\">'name'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span> <span class=\"token comment\">// key로 조회</span>\nconsole<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span>getValue<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span> <span class=\"token comment\">// jess2</span></code></pre></div>\n<p>로컬 스토리지에 name이라는 키 값으로 jess2라는 값을 저장한 다음 다시 저장한 키 값으로 데이터를 조회한다.</p>\n<p>크롬 개발자 도구의 스토리지 확인\n크롬 개발자 도구에서 Application탭을 클릭하면 Storage > Local Storage에 저장한 데이터의 키와 값을 확인할 수 있다. 데이터 삭제도 다음과 같이 removeItem()메서드로 간단하게 처리할 수 있다.</p>\n<p>1\nlocalStorage.removeItem(‘name’);</p>\n<p>사용자 환경 설정 구현하기\n애플리케이션을 실행할 때 서버에 저장하지 않아도 되는 환경 설정을 로컬 스토리지에 저장하면 편리할 뿐만 아니라 서버와의 통신할 필요가 없으므로 성능상으로도 이점이 있다.</p>\n<p>다음은 글상자 속의 글자색과 배경색을 저장하고 다시 불러오는 예제이다. 주요 선택자와 속성 변경 부분은 제이쿼리로 작성했다.</p>\n<p>1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n29\n30\n31\n32\n33\n34\n35\n36\n37\n38\n39\n40\n41\n42\n43\n44\n45\n46\n47</p>\n<body>\n    <textarea name=\"txt\" id=\"txt\" cols=\"30\" rows=\"10\"></textarea><br/>\n    <label for=\"textcolor\">change text color</label>\n    <input type=\"color\" id=\"textcolor\"/><br/>\n    <label for=\"bgcolor\">change bg color</label>\n    <input type=\"color\" id=\"bgcolor\"/><br/>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">&lt;button id=&quot;set_color&quot;&gt;set color&lt;/button&gt; &lt;!--색상 설정 저장 버튼--&gt;\n&lt;button id=&quot;get_color&quot;&gt;get color&lt;/button&gt; &lt;!--색상 설정 읽기 버튼--&gt;\n\n&lt;script&gt;\n    //글 상자에 글자를 입력\n    $(&#39;#txt&#39;).val(&#39;글상자 영역의 색상 값을 저장합니다.&#39;);\n\n    //글자색 변경 시 글상자의 글자색에 적용\n    $(&#39;#textcolor&#39;).change(function(){\n        var color = $(this).val();\n        $(&#39;#txt&#39;).css(&#39;color&#39;, color);\n    });\n\n    //배경색 변경시 글상자의 배경색에 적용\n    $(&#39;#bgcolor&#39;).change(function(){\n        var color = $(this).val();\n        $(&#39;#txt&#39;).css(&#39;backgroundColor&#39;, color);\n    });\n\n    //글자색과 배경색을 로컬 스토리지에 저장\n    $(&#39;#set_color&#39;).click(function(){\n        var bgcolor = $(&#39;#bgcolor&#39;).val();\n        var textcolor = $(&#39;#textcolor&#39;).val();\n        var obj = {\n            bgcolor : bgcolor,\n            textcolor : textcolor\n        }\n        localStorage.setItem(&#39;color&#39;, JSON.stringify(obj));\n    });\n\n    //로컬 스토리지에 저장한 환경 설정을 읽어 오기\n    $(&#39;#get_color&#39;).click(function(){\n        var color = JSON.parse(localStorage.getItem(&#39;color&#39;));\n        $(&#39;#txt&#39;).css({\n            &#39;backgroundColor&#39; : color.bgcolor,\n            &#39;color&#39; : color.textcolor\n        });\n    });\n&lt;/script&gt;</code></pre></div>\n</body>\n(줄 15~19) : color picker 입력 요소를 통해 색상이 변경되면 텍스트 영역의 색상이 변경되도록 한다.\n(줄 27~36) : 현재 컬러 입력 요소(글자색과 배경색)에 지정된 색상 값을 val()메서드로 읽어서 각각의 키 값(bgcolor, textcolor)을 지정해 로컬 스토리지에 저장한다.\n(줄 31~35) : 자바스크립트에서는 데이터를 외부(웹 스토리지나 서버 등)와 주고받는 경우 JSON표준 형식을 이용한다. 데이터를 내보낼 경우에는 먼저 데이터를 문자열(string)로 변환해 주어야 한다. 따라서 객체 형태의 데이터를 스트링으로 변환하기 위해 JSON.stringify()메서드를 사용해 문자열로 변환시켜 저장한다.\n(줄 38~45) : 환경 설정으로 저장한 로컬 스토리지의 키 값으로 글상자 #txt의 색상 값을 읽어 와 다시 글상자에 스타일로 적용한다.\n(줄 40) : JSON.parse()를 이용해 문자열을 객체로 변환하여 가져온다. 이러한 형식은 자바스크립트 뿐만 아니라 독립적인 데이터 포맷(JSON)으로 다양한 프로그래밍 언어에서 표준(AJAX 통신)으로 사용된다.\n실행결과\n<p>색상을 선택한 뒤 set color를 클릭하면 로컬스토리지에 선택한 색상이 저장된다. 새로고침을 하거나 색상을 변경한 뒤에 get color를 클릭하면 로컬 스토리지에 저장되었던 색상을 읽어온다.</p>","frontmatter":{"title":"[WEB] cookies, localStorage, sessionStorage 비교","date":"May 09, 2020"}}},"pageContext":{"isCreatedByStatefulCreatePages":false,"slug":"/web/storage/","previous":{"fields":{"slug":"/css/fade-in-out/"},"frontmatter":{"title":"[CSS] Fade In / Fade Out Animation 추가하기","category":"css"}},"next":null}}